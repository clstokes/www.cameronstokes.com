
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Global Website Performance with Amazon EC2 - Cameron Stokes's Blog</title>
  <meta name="author" content="Cameron Stokes">

  
  <meta name="description" content="Recently I&#8217;ve been looking at options to improve the performance of our websites in certain regions of the world, specifically China. While t...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.cameronstokes.com/2011/01/31/global-website-performance-with-amazon-ec2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Cameron Stokes's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Cameron Stokes's Blog</a></h1>
  
    <h2>[ 'technologist', 'beer lover', 'foodie', 'traveler' ]</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.cameronstokes.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Global Website Performance With Amazon EC2</h1>
    
    
      <p class="meta">
        





  



<time datetime="2011-01-31T00:00:00-08:00" pubdate  data-updated="true" >Jan 31<span>st</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class="right" src="/wp-content/uploads/2011/01/ec2-china-response-times-crop.png" width="141" height="100" title="ec2-china-response-times-crop" ></p>

<p>Recently I&#8217;ve been looking at options to improve the performance of our websites in certain regions of the world, specifically China. While there are an infinite number of ways to improve performance a pretty basic one is to reduce the physical distance between users and the website. This means if our users are in China, we need to run our website in China or as close as we can get.</p>

<p>To get a feel for how our website would perform if it was hosted in region I setup a test to compare a U.S. hosted website and an in-region hosted website, in this case in <a href="http://aws.amazon.com/">Amazon Web Services EC2&#8217;s</a> <a href="http://aws.amazon.com/about-aws/whats-new/2010/04/29/announcing-asia-pacific-singapore-region/">Singapore location</a>. Throwing another hat in the ring, I decided to test the same U.S. website but delivered via <a href="http://www.akamai.com/">Akamai</a>. For those who don&#8217;t know, Akamai has a global <a href="http://en.wikipedia.org/wiki/Content_delivery_network">content delivery network</a> (CDN) providing accelerated network delivery for static and dynamic content.  This gives us the following test resources:</p>

<ol>
<li>A static resource  served from the East coast of the U.S.</li>
<li>A static resource served from the East coast of the U.S. but delivered by Akamai.</li>
<li>A static resource served from Amazon&#8217;s Asia Pacific region in  Singapore.</li>
</ol>


<p>The resource is the same static 30KB image in each case. Using a monitoring service, I sampled each resource every 5 minutes from Beijing, Hong Kong, and Shanghai. The test ran for a little over 3 weeks. Without further ado, here are results&#8230;</p>

<h3>Response Times</h3>

<p><img src="/wp-content/uploads/2011/01/ec2-china-response-times-e1296404574953.png" width="479" height="289" title="ec2-china-response-times" ></p>

<p>Average response times over the 2 weeks  were:</p>

<ol>
<li>Origin - <em>3.49 seconds.</em></li>
<li>Akamai - <em>1.73 seconds.</em></li>
<li>EC2 - <em>0.66 seconds.</em></li>
</ol>


<p>From these numbers you can see how much of an impact distance can have and even more so how much of a positive impact Akamai can have on delivering your content. In this case the physical distance &#8220;as the crow flies&#8221; between the origin and the same content through Akamai is the same but Akamai can greatly increase performance over the &#8220;normal internet&#8221;.</p>

<h3>Availability</h3>

<p><img src="/wp-content/uploads/2011/01/ec2-china-availability-e1296404625651.png" width="478" height="288" title="ec2-china-availability" ></p>

<p>Average availability over the 2 weeks  were:</p>

<ol>
<li>Origin - <em>99.90%</em></li>
<li>Akamai - <em>99.25%</em></li>
<li>EC2 - <em>99.92%</em></li>
</ol>


<p>These numbers might seem low for serving a static image but are typical of what we&#8217;ve seen for China. Akamai&#8217;s availability is surprising as its the lowest of the lot.</p>

<h3>Conclusion</h3>

<p>The test results certainly support the hypothesis that reducing the distance between a website and its users will result in better performance. This is a function of the &#8220;speed of light problem&#8221; and reducing the number of hops between the two points. Reducing the number of hops would also improve availability by reducing the points of failure in between.</p>

<p>To summarize, no big surprises here, moving your applications and data closer to your customers can substantially improve the performance of your applications. Amazon&#8217;s  availability regions in North America, Europe, and Asia Pacific greatly reduce the barrier to deploying your applications globally and making for a better customer experience. This, of course, assumes your applications can be deployed in multiple locations and not impact data or transaction integrity&#8230;this is easier said than done. If you absolutely can&#8217;t move host your applications globally, Akamai can certainly help deliver your website faster. I expect we would see an even better improvement combining Akamai and an in-region hosted application.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Cameron Stokes</span></span>

      





  



<time datetime="2011-01-31T00:00:00-08:00" pubdate  data-updated="true" >Jan 31<span>st</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/category/tech/'>Tech</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
</div>

    
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("clstokes", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <p>Follow <a href="http://twitter.com/clstokes">@clstokes</a></p>
  
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/09/21/new-pandora-bookmarklet/">New Pandora Bookmarklet</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/15/grails-and-204-no-content-responses/">Grails and 204 "No Content" responses</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/04/tasting-trailhead-isa/">Tasting: Trailhead ISA</a>
      </li>
    
      <li class="post">
        <a href="/2011/07/20/compressed-content-amazon-s3-and-cloudfront/">Compressed Content, Amazon S3, and CloudFront</a>
      </li>
    
      <li class="post">
        <a href="/2011/07/16/tasting-grand-teton-sheep-eater/">Tasting: Grand Teton Sheep Eater</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Post Categories</h1>
  <ul>
      <li><a href="/category/tech/">Tech</a></li>
      <li><a href="/category/beer/">Beer</a></li>
      <li><a href="/category/Other/">Other</a></li>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Cameron Stokes -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
    
      var disqus_shortname = 'clstokes';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-646672-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>





</body>
</html>
